import{u as b,a as y,r as d,R as t,j as e,L as w}from"./index-B5aJpQwO.js";import{u as N}from"./index.esm-BA58FhFx.js";import{t as S,o as v,s as x}from"./types-7h59Fkfz.js";import{C as A,B as E}from"./Button-CiOENXfr.js";import{I as h}from"./Input-DSy_cLET.js";import{P as I}from"./phone-BAkRmmYQ.js";import{L as R}from"./lock-BbfJ0KVP.js";import{A as L}from"./arrow-right-Daz0MiMs.js";const P=v({phone:x().min(10,"Phone number must be at least 10 digits").regex(/^[0-9+\s-]+$/,"Invalid phone number format"),password:x().min(6,"Password must be at least 6 characters")});function z(){var i,c;const s=b(),{login:u,isAuthenticated:a,isRegistered:r}=y(),[p,o]=d.useState(!1),{register:n,handleSubmit:f,formState:{errors:m}}=N({resolver:S(P),defaultValues:{phone:"",password:""}});d.useEffect(()=>{a&&r&&s(t.DASHBOARD)},[a,r,s]);const g=async l=>{o(!0);const j=await u(l.phone,l.password);o(!1),j.success&&s(t.DASHBOARD)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4",children:e.jsx(A,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Welcome to MOMS"}),e.jsx("p",{className:"text-secondary-600 mt-1",children:"Meal Order Management System"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-2",children:"Sign In"}),e.jsx("p",{className:"text-secondary-600 text-sm mb-6",children:"Enter your phone number and password to continue"}),e.jsxs("form",{onSubmit:f(g),className:"space-y-4",children:[e.jsx(h,{label:"Phone Number",placeholder:"Enter your phone number",leftIcon:e.jsx(I,{className:"h-5 w-5"}),error:(i=m.phone)==null?void 0:i.message,...n("phone")}),e.jsx(h,{label:"Password",type:"password",placeholder:"Enter your password",leftIcon:e.jsx(R,{className:"h-5 w-5"}),error:(c=m.password)==null?void 0:c.message,...n("password")}),e.jsxs(E,{type:"submit",className:"w-full",size:"lg",isLoading:p,children:["Sign In",e.jsx(L,{className:"h-4 w-4 ml-2"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-secondary-600 text-sm",children:["Don't have an account?"," ",e.jsx(w,{to:t.REGISTER,className:"text-primary-600 font-medium hover:underline",children:"Create Account"})]})})]}),e.jsx("p",{className:"text-center text-xs text-secondary-500 mt-6",children:"By continuing, you agree to our Terms of Service"})]})})}export{z as default};

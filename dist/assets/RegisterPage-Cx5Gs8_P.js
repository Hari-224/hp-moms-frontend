import{u as N,a as P,r as p,R as m,j as e,L as v}from"./index-B5aJpQwO.js";import{u as S}from"./index.esm-BA58FhFx.js";import{t as A,o as I,s as t}from"./types-7h59Fkfz.js";import{C,B as R}from"./Button-CiOENXfr.js";import{I as o}from"./Input-DSy_cLET.js";import{U as L}from"./user-DVTd2ZHA.js";import{P as E}from"./phone-BAkRmmYQ.js";import{L as f}from"./lock-BbfJ0KVP.js";import{A as B}from"./arrow-right-Daz0MiMs.js";const O=I({name:t().min(2,"Name must be at least 2 characters"),phone:t().min(10,"Phone number must be at least 10 digits").regex(/^[0-9+\s-]+$/,"Invalid phone number format"),password:t().min(6,"Password must be at least 6 characters"),confirmPassword:t()}).refine(s=>s.password===s.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function J(){var d,h,x,u;const s=N(),{register:w,isAuthenticated:c,isRegistered:i}=P(),[g,l]=p.useState(!1),{register:r,handleSubmit:j,formState:{errors:a}}=S({resolver:A(O),defaultValues:{name:"",phone:"",password:"",confirmPassword:""}});p.useEffect(()=>{c&&i&&s(m.DASHBOARD)},[c,i,s]);const y=async n=>{l(!0);const b=await w(n.phone,n.password,n.name);l(!1),b.success&&s(m.DASHBOARD)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4",children:e.jsx(C,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Join MOMS"}),e.jsx("p",{className:"text-secondary-600 mt-1",children:"Create your account to get started"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-2",children:"Create Account"}),e.jsx("p",{className:"text-secondary-600 text-sm mb-6",children:"Register as a customer. Contact admin for agency access."}),e.jsxs("form",{onSubmit:j(y),className:"space-y-4",children:[e.jsx(o,{label:"Full Name",placeholder:"Enter your full name",leftIcon:e.jsx(L,{className:"h-5 w-5"}),error:(d=a.name)==null?void 0:d.message,...r("name")}),e.jsx(o,{label:"Phone Number",placeholder:"Enter your phone number",leftIcon:e.jsx(E,{className:"h-5 w-5"}),error:(h=a.phone)==null?void 0:h.message,...r("phone")}),e.jsx(o,{label:"Password",type:"password",placeholder:"Create a password (min 6 chars)",leftIcon:e.jsx(f,{className:"h-5 w-5"}),error:(x=a.password)==null?void 0:x.message,...r("password")}),e.jsx(o,{label:"Confirm Password",type:"password",placeholder:"Confirm your password",leftIcon:e.jsx(f,{className:"h-5 w-5"}),error:(u=a.confirmPassword)==null?void 0:u.message,...r("confirmPassword")}),e.jsxs(R,{type:"submit",className:"w-full",size:"lg",isLoading:g,children:["Create Account",e.jsx(B,{className:"h-4 w-4 ml-2"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-secondary-600 text-sm",children:["Already have an account?"," ",e.jsx(v,{to:m.LOGIN,className:"text-primary-600 font-medium hover:underline",children:"Sign In"})]})})]}),e.jsx("p",{className:"text-center text-xs text-secondary-500 mt-6",children:"By registering, you agree to our Terms of Service"})]})})}export{J as default};

import{a as O,r as j,j as e,A as B,z as a}from"./index-B5aJpQwO.js";import{u as I}from"./index.esm-BA58FhFx.js";import{t as M,o as T,s as u,l as U}from"./types-7h59Fkfz.js";import{L as F,C as r,a as t,A as R,b as f,c as y,g as k,h as z,i as q}from"./Card-BgyJxnnv.js";import{B as i}from"./Badge-Bb7NU6h0.js";import{I as n}from"./Input-DSy_cLET.js";import{c as V,B as g}from"./Button-CiOENXfr.js";import{C as H}from"./Modal-B6DbCECy.js";import{P as Q}from"./phone-BAkRmmYQ.js";import{U as _}from"./user-DVTd2ZHA.js";import{S as G}from"./save-DXxxMTj2.js";import{S as J}from"./shield-jL7mq--s.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),K=T({name:u().min(2,"Name is required"),email:u().email("Invalid email").optional().or(U(""))});function ie(){var x,h;const{user:l,userData:s,signOut:v,updateProfile:b}=O(),[w,o]=j.useState(!1),[C,c]=j.useState(!1),{register:m,handleSubmit:S,formState:{errors:d,isDirty:L}}=I({resolver:M(K),defaultValues:{name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||""}}),A=async p=>{try{c(!0),await b(p),a.success("Profile updated successfully!")}catch(E){a.error(E.message||"Failed to update profile")}finally{c(!1)}},P=async()=>{try{await v(),a.success("Logged out successfully")}catch{a.error("Failed to logout")}};return e.jsxs(F,{children:[e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsx(r,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(R,{name:(s==null?void 0:s.name)||"User",size:"xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:(s==null?void 0:s.name)||"User"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Q,{className:"h-4 w-4 text-secondary-400"}),e.jsx("span",{className:"text-secondary-600",children:(s==null?void 0:s.phone)||"N/A"})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(i,{variant:"primary",children:B[s==null?void 0:s.role]||"Customer"}),(s==null?void 0:s.agencyName)&&e.jsx(i,{variant:"secondary",children:s.agencyName}),(s==null?void 0:s.houseName)&&e.jsx(i,{variant:"secondary",children:s.houseName})]})]})]})})}),e.jsxs(r,{children:[e.jsxs(f,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Personal Information"]}),e.jsx(k,{children:"Update your personal details"})]}),e.jsx(t,{children:e.jsxs("form",{onSubmit:S(A),className:"space-y-4",children:[e.jsx(n,{label:"Full Name",placeholder:"Enter your name",error:(x=d.name)==null?void 0:x.message,...m("name")}),e.jsx(n,{label:"Email (Optional)",type:"email",placeholder:"Enter your email",error:(h=d.email)==null?void 0:h.message,...m("email")}),e.jsx(n,{label:"Phone Number",value:(l==null?void 0:l.phoneNumber)||"",disabled:!0,className:"bg-secondary-50"}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(g,{type:"submit",disabled:!L,isLoading:C,children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})})]}),e.jsxs(r,{children:[e.jsx(f,{children:e.jsx(y,{children:"Quick Actions"})}),e.jsxs(t,{className:"divide-y divide-secondary-100",children:[e.jsxs("button",{className:"w-full flex items-center justify-between py-4 text-left hover:bg-secondary-50 -mx-6 px-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary-50 rounded-lg",children:e.jsx(z,{className:"h-5 w-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900",children:"Notifications"}),e.jsx("p",{className:"text-sm text-secondary-500",children:"Manage push notifications"})]})]}),e.jsx(N,{className:"h-5 w-5 text-secondary-400"})]}),e.jsxs("button",{className:"w-full flex items-center justify-between py-4 text-left hover:bg-secondary-50 -mx-6 px-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-success-50 rounded-lg",children:e.jsx(J,{className:"h-5 w-5 text-success-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-secondary-900",children:"Privacy & Security"}),e.jsx("p",{className:"text-sm text-secondary-500",children:"Account security settings"})]})]}),e.jsx(N,{className:"h-5 w-5 text-secondary-400"})]})]})]}),e.jsx(r,{className:"border-danger-200",children:e.jsx(t,{className:"p-4",children:e.jsxs(g,{variant:"outline",className:"w-full text-danger-600 hover:bg-danger-50 border-danger-200",onClick:()=>o(!0),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Logout"]})})}),e.jsxs("div",{className:"text-center text-sm text-secondary-400 pb-8",children:[e.jsx("p",{children:"MOMS - Meal Order Management System"}),e.jsx("p",{children:"Version 1.0.0"})]})]}),e.jsx(H,{isOpen:w,onClose:()=>o(!1),onConfirm:P,title:"Logout",message:"Are you sure you want to logout?",confirmText:"Logout",variant:"danger"})]})}export{ie as default};
